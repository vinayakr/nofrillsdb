<source>
  @type forward
  port 24224
  bind 0.0.0.0
</source>

<filter nofrillsdb.backend>
  @type parser
  key_name log
  reserve_data true
  hash_value_field log
  <parse>
    @type json
  </parse>
</filter>

<match nofrillsdb.backend>
  @type sumologic
  endpoint "#{ENV['ENDPOINT']}"
  log_format json
  source_category backend
  source_host endlessrealtor.com
  source_name nofrillsdb
  <buffer>
    @type memory
    chunk_limit_size 1m
    flush_interval 10s
  </buffer>
</match>

<match nofrillsdb.frontend>
  @type sumologic
  endpoint "#{ENV['ENDPOINT']}"
  log_format json
  source_category frontend
  source_host endlessrealtor.com
  source_name nofrillsdb
  <buffer>
    @type memory
    chunk_limit_size 1m
    flush_interval 10s
  </buffer>
</match>
